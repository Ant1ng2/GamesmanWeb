<script type="text/javascript">
  $(function() {
    function getInputInt(input) {
      var raw = parseInt(input.val());
      return raw > 0 ? raw : 1;
    }
	
	var form = $("#connect4-options");
    form.find("button").click(function() {
      var config = {
        width: getInputInt(form.find("[name=width]")),
        height: getInputInt(form.find("[name=height]")),
        options: { pieces: getInputInt(form.find("[name=pieces]")) }
      }

      var game = new ConnectFour(config);
      $("#game").empty().append(game.board);
      game.start();
    });
  });
</script>

<div id="connect4-options">
  <table>
    <tr><td>Columns:</td>
        <td><input name="width" size="3" value="6"></td>
        <td></td></tr>
    <tr><td>Rows:</td>
        <td><input name="height" size="3" value="5"></td>
        <td></td></tr>
    <tr><td>In a Row:</td>
        <td><input name="pieces" size="3" value="4"></td>
        <td>(the number of pieces in a row needed to win)</td></tr>
  </table>
  <button type="button">Play!</button>
</div>
<!-- Image prefetching -->
<img class="prefetch" src="game/images/connect4/blue-piece.png" alt="">
<img class="prefetch" src="game/images/connect4/red-piece.png" alt="">

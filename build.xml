<?xml version="1.0" encoding="UTF-8"?>
<project>
    <description>Compile and package GamesmanWeb into a distributable WAR file</description>
	<property name="src" location="src"/>
	<property name="lib" location="WEB-INF/lib"/>
	<property name="build" location="WEB-INF/classes"/>
	<property name="dist"  location="C:/Program Files/Apache Tomcat/webapps"/>

    <target name="war" depends="clean, compile" description="Package a WAR file">
    	<delete file="gcweb.war"/>
        <war destfile="${dist}/gcweb.war" basedir="${basedir}" webxml="WEB-INF/web.xml"
        	 includes="**" excludes="**/.* **/.*/* **/servlet-api.jar" />
    </target>
    <target name="compile" description="Compile the GCWeb classes">
    	<javac classpath="${lib}/asm-3.1.jar:${lib}/jersey-code-0.9-ea.jar:${lib}/jersey-server-0.9-ea.jar:${lib}/jsr311-api-0.9.jar:${lib}/servlet-api.jar" sourcepath="" srcdir="${src}" 
               destdir="${build}" source="1.5" target="1.5" excludes="src build.xml" >
            <include name="**/*.java"/>
            <exclude name="**/tests/*.java"/>
        </javac>
    </target>
	<target name="clean" description="Clean the build directories">
		<delete dir="${build}"/>
		<mkdir dir="${build}"/>
    </target>
</project>

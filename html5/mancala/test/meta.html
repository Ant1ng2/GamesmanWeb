<html>
<head>
<title> Basic Structure for Gamescrafters HTML Games - Title Here! </title>
<meta name="author" content="Sung Roa Yoon" />
<meta name="description" content="Version 1.2" />
<style type="text/css">
    body {
      margin: 0;
      background-image:url('background.png');
      background-size:100% 100%;
    }
</style>

<canvas id="optionsTab" width=1 height=1 onClick="clickOptions(event)" onMouseDown="mouseDownOptions(event)" onMouseUp="mouseUpOptions(event)">
</canvas><canvas id="gameInterface" width=1 height=1 onClick="clickInterface(event)"  onMouseDown="mouseDownInterface(event)" onMouseUp="mouseUpInterface(event)"></canvas>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript">
/*
var newScript = document.createElement("script");
newScript.setAttribute("src","mancalaObects.js");
var head = document.getElementsByType("head");
head[0].appendChild(newScript);
*/
/**
These variables will determine the size of the screen and the appropriate ratios.
*/


/** Objects
**/
function pebbles(x, y, width, height, color) {
	this.x = x; //x cor
	this.y = y; //y cor
	this.width = width;
	this.height = height;
	this.p = new Image();
	this.p.src = color + ".png";
	this.p.drawNow = function() {
	interfacecxt.drawImage(this.p, x, y, width, height)
}
	
}

function pocket(x, y, width, height, image, update, contents ) {
	this.x = x; //x cor
	this.y = y; //y cor
	this.width = width;
	this.height = height;
	this.image = image;
	this.contents = contents;
	this.update = function(x, y) {
		//write code here
	}


}




var adjustor;
if (navigator.platform == "iPhone" || navigator.platform == "iPad") {
	adjustor = 10;
} else {
	adjustor = 0;
}

var windowWidth = window.innerWidth;
var windowHeight = window.innerHeight;
var interfaceWidth = windowWidth;
var interfaceHeight = windowHeight;
var optionsWidth = 0;
var optionsHeight = 0;
    
optionsTab.width = optionsWidth;
optionsTab.height = optionsHeight;
gameInterface.width = 300;//interfaceWidth;
gameInterface.height = 500;//interfaceHeight;

/**
This resizes the variables when the window is changed.
*/
$(window).resize(sizeUpdate);

/**
These variables are required to interface with the screen.
*/
var interfacecxt = document.getElementById("gameInterface").getContext("2d");
var optionscxt = document.getElementById("optionsTab").getContext("2d");

/**
These variables relate to the players.
*/
var player1Turn = true;

/**
These are the variables related to the options menu.
*/
var optionsBoolean = false;

/**
These are all of the images used in the game infrastructure.
*/
var imageHeight = Math.floor(optionsHeight / 9);



var playerSettingsImage = new Image();
playerSettingsImage.src = 'placeholder.png';
playerSettingsImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(playerSettingsImage, 0, n * imageHeight, optionsWidth, imageHeight)
}
var undoImage = new Image();
undoImage.src = 'placeholder.png';
undoImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(undoImage, 0, n * imageHeight, optionsWidth, imageHeight)
}
var redoImage = new Image();
redoImage.src = 'placeholder.png';
redoImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(redoImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var vvhistImage = new Image(); // Visual Value History
vvhistImage.src = 'placeholder.png';
vvhistImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(vvhistImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var gameOpImage = new Image(); // Game Options (Game Specific)
gameOpImage.src = 'placeholder.png';
gameOpImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(gameOpImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var mvhistImage = new Image(); // Move Value History
mvhistImage.src = 'placeholder.png';
mvhistImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(mvhistImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var predictImage = new Image(); // Predictions
predictImage.src = 'placeholder.png';
predictImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(predictImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var genOpImage = new Image(); // General Options Image
genOpImage.src = 'placeholder.png';
genOpImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(genOpImage, 0, n * imageHeight, optionsWidth, imageHeight);
}
var homeImage = new Image(); // Home image
homeImage.src = 'placeholder.png';
homeImage.drawNow = function(n) {
	this.n = n;
	optionscxt.drawImage(homeImage, 0, n * imageHeight, optionsWidth, imageHeight);
}

/**
This updates the size of the screen.
*/
function sizeUpdate() {
    windowWidth = window.innerWidth;
    windowHeight = window.innerHeight;
    interfaceWidth = Math.floor(windowWidth * .9);
    interfaceHeight = windowHeight;
    optionsWidth = windowWidth - interfaceWidth;
    optionsHeight = windowHeight;
    
    optionsTab.width = optionsWidth;
    optionsTab.height = optionsHeight;
    gameInterface.width = interfaceWidth;
    gameInterface.height = interfaceHeight;
    
    imageHeight = Math.floor(optionsHeight / 9);
    
	drawOptionsBar();
    //drawInterface();
	
}

/**
This is the function that draws the option bar.
*/
function drawOptionsBar() {
    optionscxt.clearRect(0, 0, optionsWidth, optionsHeight);
	undoImage.drawNow(0);
	redoImage.drawNow(1);
	playerSettingsImage.drawNow(2);
	vvhistImage.drawNow(3);
	gameOpImage.drawNow(4);
	mvhistImage.drawNow(5);
	predictImage.drawNow(6);
	genOpImage.drawNow(7);
	homeImage.drawNow(8);
}


/**
This is the function that activates when something is clicked in the option bar.
*/
function clickOptions(e) {
	xPos = e.clientX;
	yPos = e.clientY;
    
}

/**
This is the function that activates when the interface is clicked. If the options tab is open, then it does what the option should, otherwise it does normal click function as given by the actual game.
*/
function clickInterface(e) {
	xPos = e.clientX;
	yPos = e.clientY;
    if (optionsBoolean) {
        
    } else {
        clickFunction(xPos, yPos);
    }
}

/**
This is the function that activates when the options bar has something pressed in it.
*/
function mouseDownOptions(e) {
	xPos = e.clientX;
	yPos = e.clientY;

}
function mouseUpOptions(e) {
	xPos = e.clientX;
	yPos = e.clientY;
    
}

/**
This is the function that activates when the interface is pressed. If the options tab is open, then it works in the options area, but otherwise does normal press function as given by the actual game.
*/
function mouseDownInterface(e) {
	xPos = e.clientX;
	yPos = e.clientY;
    if (optionsBoolean) {
        
    } else {
        downFunction(xPos, yPos);
    }
}
function mouseUpInterface(e) {
	xPos = e.clientX;
	yPos = e.clientY;
    if (optionsBoolean) {
        
    } else {
        upFunction(xPos, yPos);
    }
}

/**
WRITE YOUR CODE HERE! WRITE YOUR CODE HERE! WRITE YOUR CODE HERE! WRITE YOUR CODE HERE! WRITE YOUR CODE HERE! WRITE YOUR CODE HERE!
*/

/**
You can use this as the main graphics function. It will call itself over and over every .01 seconds. Please try to make it to just display graphics based on data rather than manipulating data. Otherwise, it may have errors with screen size change and such.
*/
function drawInterface() {
    // This should be at the front of your code!
    interfacecxt.clearRect(0, 0, interfaceWidth, interfaceHeight);
    
    // YOUR CODE STARTS HERE
	
    
    
    
    // YOUR CODE ENDS HERE
    
    // This should be at the bottom of your code!
	setTimeout("drawInterface()", 10);
}

/**
This is the function you will use to register clicks. The xPos and yPos are the coordinates of the mouse clicks, when the mouse is clicked.
*/
function clickFunction(xPos, yPos) {
    
}

/**
This is the function you will use to register mouse pressed down and let go. The xPos and yPos are the coordinates while such are happening.
*/
function downFunction(xPos, yPos) {

}
function upFunction(xPos, yPos) {

}

</script>
</head>
<body onLoad=sizeUpdate()>
</body>
</html>